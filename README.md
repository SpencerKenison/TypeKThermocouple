# NI-DAQmx Thermocouple Data System (Calibration, Logging, and Real-Time Monitoring)

This repository contains Python scripts for interfacing with an NI DAQ device (e.g., a National Instruments module) to perform cold-junction compensated temperature measurements using Type K thermocouples. The system includes modules for calibration, continuous data logging, and real-time visualization.

## Prerequisites
### Hardware
* **NI-DAQmx Device** (e.g., a cDAQ module or USB device)
* **Type K Thermocouples**
* **Reference Temperature Source** (e.g., a chilled bath or oven) for calibration.

### Software
1. **NI-DAQmx Drivers:** Must be installed on your system.
2. **Python 3**
3. **Required Python Libraries:** You will need `nidaqmx`, `numpy`, `pandas`, `matplotlib`, and `scipy`.

You can install the Python dependencies using pip:

```bash
pip install nidaqmx numpy matplotlib pandas scipy

```

## System Overview and Workflow

The system operates in three main stages, each handled by a dedicated script:

1. **Calibration (`calibrate.py`)**: Creates a voltage-to-temperature mapping (a "calibration curve") specific to your thermocouples and DAQ setup.
2. **Logging (`data_logger.py`)**: Reads, compensates, and logs continuous temperature data to a CSV file using the calibration data.
3. **Monitoring (`realtime_monitor.py`)**: Visualizes the incoming temperature data in a live, updating plot.

### Configuration

All configuration settings (DAQ device name, channel names, voltage ranges, sampling rates, and calibration points) are defined within the `--- Configuration ---` section at the top of each Python file.

* `DAQ_DEVICE_NAME`: Set this to your specific NI device name (e.g., `"Dev1"`).
* `DIFFERENTIAL_CHANNELS`: List the physical input channels you are using (e.g., `["ai0", "ai1", "ai2", "ai3"]`).
* `CALIBRATION_FILE`: The default file name is **`calibration_data.json`**. This file is generated by `calibrate.py` and used by the other two scripts.

## Usage

### 1. Calibration (Initial Setup)The `calibrate.py` script is essential for generating the `calibration_data.json` file, which maps corrected voltage readings to known reference temperatures.
1. **Prepare:** Connect your thermocouples and place their measuring tips at the specified `CALIBRATION_POINTS` temperatures.
2. **Run:** Execute the calibration script and follow the prompts.

```bash
python3 calibrate.py

```

* The script will prompt you to enter the **cold junction temperature (CJT)** and the **known reference temperature** for each calibration point.
* A plot of the calibration curve will be generated and displayed upon completion.

### 2. Continuous Data Logging

The `data_logger.py` script continuously reads and logs the compensated temperature data to a CSV file.

```bash
python3 data_logger.py

```

* **Output:** Data is logged to `experimental_data.csv` by default (as defined in the script).
* The script calculates the **Cold Junction Compensation (CJC)** automatically and uses the interpolation functions derived from the calibration data to convert voltage to temperature.
* Press `Ctrl+C` to stop the logging process.

### 3. Real-Time Monitoring

The `realtime_monitor.py` script starts a live plot that updates the temperature readings from the DAQ device in real time. This script is useful for quickly viewing trends and verifying sensor function.

```bash
python3 realtime_monitor.py

```

* The plot uses a rolling window (default 60 seconds) of data.
* It performs the same CJC and temperature conversion using the `calibration_data.json` file.

## File Descriptions
| File Name | Role | Notes |
| --- | --- | --- |
| `calibrate.py` | **Calibration Tool** | Manages DAQ readings at known temperatures and saves the resulting voltage-temperature curves to `calibration_data.json`. |
| `data_logger.py` | **Data Logging** | Continuously reads temperatures, applies CJC and interpolation, and saves the data (timestamp, raw V, corrected V, T°C, T°F) to a CSV file. |
| `realtime_monitor.py` | **Real-Time Plotting** | Uses `matplotlib.animation` to provide a live, rolling plot of the temperature data. |

---

Would you like me to clarify the setup for any of the individual scripts, or perhaps help you configure the channel names based on your DAQ device?
